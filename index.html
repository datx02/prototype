<!doctype html>
<html>
	<head>
		<title>Prototype</title>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="build/shuttle.css" />
	</head>

	<body>
		<header role="banner">
			<h1><img class="logo" src="images/shuttle_logotype.png" alt="Shuttle" /> Shuttle</h1>

			<p class="subhead">A secure, server-less file<br /> sharing app built with <a href="http://github.com/rymdjs">Rymd</a></p>
		</header>

		<div id="app">
		</div>

		<footer role="contentinfo">
			<p>
				<small>Built by Robert, Johan, Robin, Niklas and Johannes</small>
			</p>
		</footer>

		<script type="text/html" id="home-template">
			<header class="toolbar">
				<div class="current-identity"></div>
				<div class="dropdown">
					<a class="dropdown-trigger">Inbox <span class="shared-count"></span></a>
					<div class="dropdown-content" id="my-shared-files">
						<div class="dropdown-header">
							<h3>Files shared with you</h3>
						</div>
						<ul class="file-list"></ul>
					</div>
				</div>
			</header>

			<section id="upload">
				<h2>Add file</h2>
				<p>
					<input type="file" class="file-input" />
				</p>
			</section>

			<section id="my-files">
				<h2>Your files</h2>

				<ul class="file-list"></ul>
			</section>
		</script>

		<script id="login-template" type="text/html">
			<section class="connection-view">
				<form>
					<p>
						<label for="identity">Choose a nickname</label>
						<input id="identity" class="block" type="text" value="legogris" autofocus required />
					</p>

					<input type="submit" class="connect block" value="Get started" />
				</form>
			</section>
		</script>

		<script id="key-template" type="text/html">
			<section class="key-view">
				<div id="upload-key" style="display: none;">
				<form>
					<p>
						<label for="key"></label>
						<input id="key-text" class="block" type="text" value="MIICeQIBADANBgkqhkiG9w0BAQEFAASCAmMwgg.." autofocus required />
					</p>
						<input type="submit" class="connect block" value="Upload" />
				</form>
				</div>
				<div id="generate-key" style="display: none;">
				<form>
					<p>
						<table border="1">
						<tr>
						  <td id="private">/</td>
						  </tr>
						<tr>
						  <td id="public">/</td>
						</tr>
						</table>
					</p>
					<input type="submit" class="connect block" value="Next" />
				</form>
				</div>
			</section>
		</script>

		<script type="text/html" id="file-template">
			<span class="resource" data-guid="<%= id %>" >
				<span class="file-name"><%= name%></span>
				<% if(hasData) { %>
				<a class="file-link view-file" href="<%= url %>" target="_blank">View</a>
        <% } %>
				<small class="file-type"><%= type %></small>
			</span>

			<div class="sharing-panel" hidden>
				<label>Share with</label><input type="text" class="remote-identity" />
				<button class="share-file small">Share</button>
			</div>
		</script>

		<script src="node_modules/jquery/dist/jquery.min.js"></script>
		<script src="vendors/peer.js"></script>
		<script src="vendors/jquery.noty/js/noty/packaged/jquery.noty.packaged.min.js"></script>
		<script src="node_modules/underscore/underscore.js"></script>
		<script src="node_modules/backbone/backbone.js"></script>
		<script src="build/bundle.js"></script>

		<script>
			$(function() {
				$.noty.defaults = $.extend({}, $.noty.defaults, {
					layout: 'topRight',
					type: 'information'
				});

				$.noty.defaults.animation.speed = 300;

				App.start();
			})
		</script>
	</body>
</html>
